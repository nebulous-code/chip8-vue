# Chip-8 Vue

Chip-8 Vue is a web interface for running classic CHIP-8 ROMs in the browser.
It focuses on a clean screen, simple controls, and quick ROM loading.

See the demo:
https://nebulous-code.github.io/chip8-vue/

## How the App Works

- The screen shows the CHIP-8 display output.
- The ROM section lets users pick a built-in demo or upload a `.ch8` ROM file.
- Start/Pause runs or pauses the emulator; Reset reloads the current ROM.
- The Sound section shows whether the emulator is beeping and lets users mute it.
- The Quirks section toggles small compatibility settings for different CHIP-8 variants.
- Step mode runs one instruction at a time and shows the current instruction text. It is available by expanding the control section

## Rust CHIP-8 Library by nebulous-code

- https://github.com/nebulous-code/chip-8

## Advanced: Updating the App and WASM Integration

This app uses a Rust-built WebAssembly package generated by wasm-bindgen.
The Vue client talks to that package through a small TypeScript wrapper.

### Key Files

- `chip8/chip8wasm/src/lib.rs` defines the wasm-bindgen exports.
- `chip8/chip8wasm/pkg` is the generated WebAssembly package.
- `chip8-vue/src/wasm/chip8Client.ts` is the TypeScript wrapper and interface.
- `chip8-vue/src/App.vue` is the UI that calls the wrapper.

### Repo Layout Differences (Local vs GitHub Actions)

- Local development expects the Rust repo to be a sibling folder:
  `../chip8/chip8wasm/pkg`
- GitHub Actions checks out the Rust repo inside the Vue project:
  `./chip8/chip8wasm/pkg`
- `vite.config.ts` allows both paths so the same build works locally and in CI.

### Rebuilding the WASM Package

1) Build the WASM package from the Rust workspace:
   - `wasm-pack build --target web` (run inside `chip8/chip8wasm`)
2) Restart the Vite dev server.
3) Hard refresh the browser so the new WASM bundle loads.

### How the Pieces Fit Together

- The Rust crate exports methods such as `tick`, `framebuffer`, and `programCounter`.
- wasm-bindgen generates JS glue in `chip8/chip8wasm/pkg`.
- The Vue app imports the package as a local file dependency and calls it via `chip8Client.ts`.

## Scripts

- `npm install`
- `npm run dev`
- `npm run build`
- `npm run preview`
- `npm run typecheck`

## Project Layout

- `index.html` app entry point
- `src/main.ts` Vue bootstrapping
- `src/App.vue` UI shell
- `src/styles.css` app styling
- `src/wasm/chip8Client.ts` WASM client boundary and helpers
